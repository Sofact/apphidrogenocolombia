<div class="main-layout">
    <aside class="sidebar">
        <!-- Tab Content Start -->
        <div class="tab-content">
            <!-- Chat Tab Content Start -->
            <div class="tab-pane active" id="chats-content">
                <div class="d-flex flex-column h-100">
                    <div class="hide-scrollbar h-100" id="chatContactsList">
                        
                        <!-- Chat Header Start -->
                        <!--<div class="sidebar-header sticky-top p-2">-->
                        <div class="sidebar-header p-2">
                            <div class="d-flex justify-content-between align-items-center">
                                <!-- Chat Tab Pane Title Start -->
                                <h5 class="font-weight-semibold mb-0">Chats</h5>
                                <!-- Chat Tab Pane Title End -->

                                <ul class="nav flex-nowrap">

                                    <li class="nav-item list-inline-item mr-1">
                                        <a class="nav-link text-muted px-1" href="#" title="Notifications" role="button" data-toggle="modal" data-target="#notificationModal">
                                            <!-- Default :: Inline SVG -->
                                         

                                            <!-- Alternate :: External File link -->
                                            <!-- <img class="injectable hw-20" src="./assets/media/heroicons/outline/bell.svg" alt=""> -->
                                        </a>
                                    </li>

                                    
                                    <li class="nav-item list-inline-item d-block d-xl-none mr-1">
                                        <a class="nav-link text-muted px-1" href="#" title="Appbar" data-toggle-appbar="">
                                            <!-- Default :: Inline SVG -->
                                          
                                            <!-- Alternate :: External File link -->
                                            <!-- <img class="hw-20" src="./assets/media/heroicons/outline/view-grid.svg" alt="" class="injectable hw-20"> -->
                                        </a>
                                    </li>
                                    
                                    <li class="nav-item list-inline-item mr-0">
                                        <div class="dropdown">
                                            <a class="nav-link text-muted px-1" href="#" role="button" title="Details" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                <!-- Default :: Inline SVG -->
                                                <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/>
                                                </svg>
                                                    
                                                <!-- Alternate :: External File link -->
                                                <!-- <img  class="injectable hw-20" src="./assets/media/heroicons/outline/dots-vertical.svg" alt=""> -->
                                            </a>

                                            <div class="dropdown-menu dropdown-menu-right">
                                                <a class="dropdown-item" href="#" role="button" data-toggle="modal" data-target="#startConversation">Nuevo Chat</a>
                                                <a class="dropdown-item" href="#" role="button" data-toggle="modal" data-target="#createGroup">Crear Grupo</a>
                                                <a class="dropdown-item" href="#" role="button" data-toggle="modal" data-target="#participarGrupo">Participar en grupo</a>
                                                
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            
                            
 
                            <!-- Sidebar Header End -->
                        </div>
                        <!-- Chat Header End -->

                        <!-- Chat Contact List Start -->
                        <ul class="contacts-list" id="chatContactTab" data-chat-list="">
                            <!-- Chat Item Start -->
                        <!--     <li class="contacts-item friends">
                                <a class="contacts-link" href="./chat-1.html">
                                    <div class="avatar avatar-online">
                                        <img src="./assets/media/avatar/Monica-Gasca.png" alt="">
                                    </div>
                                    <div class="contacts-content">
                                        <div class="contacts-info">
                                            <h6 class="chat-name text-truncate">Monica Gasca</h6>
                                            <div class="chat-time">Just now</div>
                                        </div>
                                        <div class="contacts-texts">
                                            <p class="text-truncate">Nos podemos reunir en el break de las 10:00am</p>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        -->
                           <!-- Chat Item End -->

                            <!-- Chat Item Start -->
                            <ng-container *ngFor="let item of chat_chat_rooms">

                                <li class="contacts-item groups" [ngClass]="{'unread': item.count_message > 0}" >
                                    <a class="contacts-link"  href="javascript:;" (click)="loadMyChat(item)" [ngClass]="{'prymary': item.is_chat_active}">
                                        <div class="avatar bg-success text-light" [ngClass]="{'avatar-busy': !item.is_active, 'avatar-online': item.is_active}">
                                            <span *ngIf="item.friend_first">

                                                 <img class="injectable" src="{{path}}{{item.friend_first.avatar}}"/> 
                                            </span>
                                            <span *ngIf="item.friend_second">

                                                <img class="injectable" src="{{path}}{{item.friend_second.avatar}}"/> 
                                           </span>
                                           <span *ngIf="item.group_chat">

                                            <img class="injectable" src="{{path}}{{item.group_chat.avatar}}"/> 
                                       </span>
                                        </div>
                                        <div class="contacts-content">
                                            <div class="contacts-info">
                                                <h6 class="chat-name" *ngIf="item.friend_first">{{item.friend_first.full_name}}</h6>
                                                <h6 class="chat-name" *ngIf="item.friend_second">{{item.friend_second.full_name}}</h6>
                                                <h6 class="chat-name" *ngIf="item.group_chat">{{item.group_chat.full_name}}</h6>
                                                <div class="chat-time"><span>{{item.last_time}}</span></div>
                                            </div>
                                            <div class="contacts-texts">
                                                <p class="text-truncate">
                                                    <span  *ngIf="item.last_message_is_my">YO: </span>
                                                    <span   *ngIf="!item.last_message_is_my">DICE: </span>
                                                    {{item.last_message}}
                                                   <div class="badge badge-rounded badge-primary ml-1" *ngIf="item.count_message >0 ">{{item.count_message}}</div> 
                                            </div>
                                        </div>
                                    </a>
                                </li>
                            </ng-container>
                            
                            
                            <!-- Chat Item End -->
                            
                           

                            <!-- Chat Item End -->
                        </ul>
                        <!-- Chat Contact List End -->
                    </div>
                </div>
            </div>
            <!-- Chats Tab Content End -->

            <!-- Calls Tab Content Start -->

            <!-- Calls Tab Content End -->

            <!-- Friends Tab Content Start -->

            <!-- Friends Tab Content End -->

            <!-- Profile Tab Content Start -->

            <!-- Profile Tab Content End -->
        </div>
        <!-- Tab Content End -->
    </aside>

    <!-- Main Start -->
    <main class="main main-visible">

        <!-- Chats Page Start -->
        <div class="chats">
            <!-- Chat Body Start -->
            <div class="chat-body" *ngIf="to_user">

                <!-- Chat Header Start-->
                <div class="chat-header">
                    <!-- Chat Back Button (Visible only in Small Devices) -->
                    <button class="btn btn-secondary btn-icon btn-minimal btn-sm d-xl-none" type="button" data-close="" (click)="irAPaginaDestino()">
                        <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                        </svg>
                        <!-- <img class="injectable hw-20" src="./assets/media/heroicons/outline/arrow-left.svg" alt=""> -->
                    </button>

                    <!-- Chat participant's Name -->
                    <div class="media chat-name align-items-center text-truncate">
                        <div class="avatar bg-success text-light d-none d-sm-inline-block mr-3">
                            <span>
                                <!--
                                <svg class="hw-24" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                                </svg>-->
                                 <img class="injectable" src="{{path}}{{to_user.user.avatar}}" alt=""> 
                            </span>
                        </div>

                        <div class="media-body align-self-center ">
                            <h6 class="text-truncate mb-0">{{to_user.user.full_name}}</h6>
                            <small class="text-muted">Participantes</small>
                        </div>
                    </div>

                    <!-- Chat Options -->
                    <ul class="nav flex-nowrap hide">
                        <li class="nav-item list-inline-item d-none d-sm-block mr-1">
                            <a class="nav-link text-muted px-1" data-toggle="collapse" data-target="#searchCollapse" href="#" aria-expanded="false">
                                <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                </svg>
                                
                                <!-- <img src="./assets/media/heroicons/outline/search.svg" alt="" class="injectable hw-20"> -->
                            </a>
                        </li>

                        <li class="nav-item list-inline-item d-none d-sm-block mr-1">
                            <a class="nav-link text-muted px-1" href="#" title="Add People">
                                <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                </svg>
                                <!-- <img src="./assets/media/heroicons/outline/phone.svg" alt="" class="injectable hw-20"> -->
                            </a>
                        </li>
                        <li class="nav-item list-inline-item d-none d-sm-block mr-0">
                            <div class="dropdown">
                                <a class="nav-link text-muted px-1" href="#" role="button" title="Details" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/>
                                    </svg>
                                    <!-- <img src="./assets/media/heroicons/outline/dots-vertical.svg" alt="" class="injectable hw-20"> -->
                                </a>

                                <div class="dropdown-menu dropdown-menu-right">
                                    <a class="dropdown-item align-items-center d-flex" href="#" data-chat-info-toggle="">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                        
                                        <!-- <img src="./assets/media/heroicons/outline/information-circle.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>View Info</span>
                                    </a>

                                    <a class="dropdown-item align-items-center d-flex" href="#">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" clip-rule="evenodd"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"/>
                                        </svg>
                                        <!-- <img src="./assets/media/heroicons/outline/volume-off.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Mute Notifications</span> 
                                    </a>
                                    <a class="dropdown-item align-items-center d-flex" href="#">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                        </svg>
                                        <!-- <img src="./assets/media/heroicons/outline/photograph.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Wallpaper</span>
                                    </a>
                                    <a class="dropdown-item align-items-center d-flex" href="#">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/>
                                        </svg>
                                        
                                        <!-- <img src="./assets/media/heroicons/outline/archive.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Archive</span>
                                    </a>
                                    <a class="dropdown-item align-items-center d-flex" href="#">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                        </svg>
                                        
                                        <!-- <img src="./assets/media/heroicons/outline/trash.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Delete</span>
                                    </a>
                                    <a class="dropdown-item align-items-center d-flex text-danger" href="#">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/>
                                        </svg>
                                        
                                        <!-- <img src="./assets/media/heroicons/outline/ban.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Block</span>
                                    </a>
                                </div>
                            </div>
                        </li>
                        <li class="nav-item list-inline-item d-sm-none mr-0">
                            <div class="dropdown">
                                <a class="nav-link text-muted px-1" href="#" role="button" title="Details" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/>
                                    </svg>
                                    <!-- <img src="./assets/media/heroicons/outline/dots-vertical.svg" alt="" class="injectable hw-20"> -->
                                </a>

                                <div class="dropdown-menu dropdown-menu-right">
                                    <a class="dropdown-item align-items-center d-flex" href="#">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                        </svg>
                                        <!-- <img src="./assets/media/heroicons/outline/phone.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Call</span>    
                                    </a>
                                    <a class="dropdown-item align-items-center d-flex" href="#" data-toggle="collapse" data-target="#searchCollapse" aria-expanded="false">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                        </svg>
                                        <!-- <img src="./assets/media/heroicons/outline/search.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Search</span>    
                                    </a>
                                    
                                    <a class="dropdown-item align-items-center d-flex" href="#" data-chat-info-toggle="">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                        
                                        <!-- <img src="./assets/media/heroicons/outline/information-circle.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>View Info</span>
                                    </a>
                                    
                                    <a class="dropdown-item align-items-center d-flex" href="#">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" clip-rule="evenodd"/>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"/>
                                        </svg>
                                        <!-- <img src="./assets/media/heroicons/outline/volume-off.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Mute Notifications</span> 
                                    </a>
                                    <a class="dropdown-item align-items-center d-flex" href="#">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                        </svg>
                                        <!-- <img src="./assets/media/heroicons/outline/photograph.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Wallpaper</span>
                                    </a>
                                    <a class="dropdown-item align-items-center d-flex" href="#">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/>
                                        </svg>
                                        <!-- <img src="./assets/media/heroicons/outline/archive.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Archive</span>
                                    </a>
                                    <a class="dropdown-item align-items-center d-flex" href="#">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                                        </svg>
                                        
                                        <!-- <img src="./assets/media/heroicons/outline/trash.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Delete</span>
                                    </a>
                                    <a class="dropdown-item align-items-center d-flex text-danger" href="#">
                                        <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/>
                                        </svg>
                                        
                                        <!-- <img src="./assets/media/heroicons/outline/ban.svg" alt="" class="injectable hw-20 mr-2"> -->
                                        <span>Block</span>
                                    </a>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- Chat Header End-->

                <!-- Search Start -->
                <div class="collapse border-bottom px-3" id="searchCollapse">
                    <div class="container-xl py-2 px-0 px-md-3">
                        <div class="input-group bg-light ">
                            <input type="text" class="form-control form-control-md border-right-0 bg-transparent pr-0" placeholder="Search">
                            <div class="input-group-append">
                                <span class="input-group-text bg-transparent border-left-0">
                                    <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                    </svg>
                                    
                                    <!-- <img class="injectable hw-20" src="./assets/media/heroicons/outline/search.svg" alt="Search icon"> -->
                                </span>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <!-- Search End -->

                <!-- Chat Content Start-->
                <div class="chat-content p-2" *ngIf="loadChatPanelContent">
                  <app-chat-content-panel [to_user]="to_user"></app-chat-content-panel>
                
                    <!-- Scroll to finish -->
                    <div class="chat-finished" id="chat-finished"></div>
                </div>
                <!-- Chat Content End-->


                <!-- Chat Footer Start-->
                <div class="chat-footer">
                    <div class="attachment hide">
                        <div class="dropdown">
                            <button class="btn btn-secondary btn-icon btn-minimal btn-sm" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                
                                <!-- <img class="injectable hw-20" src="./assets/media/heroicons/outline/plus-circle.svg" alt=""> -->
                            </button>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" href="#">
                                    <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                    </svg>
                                    <!-- <img class="injectable hw-20 mr-2" src="./assets/media/heroicons/outline/photograph.svg" alt=""> -->
                                    <span>Gallery</span>
                                </a>
                                <a class="dropdown-item" href="#">
                                    <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"/>
                                    </svg>
                                    
                                    <!-- <img class="injectable hw-20 mr-2" src="./assets/media/heroicons/outline/volume-up.svg" alt=""> -->
                                    <span>Audio</span>
                                </a>
                                <a class="dropdown-item" href="#">
                                    <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                                    </svg>
                                    
                                    <!-- <img class="injectable hw-20 mr-2" src="./assets/media/heroicons/outline/document.svg" alt=""> -->
                                    <span>Document</span>
                                </a>
                                <a class="dropdown-item" href="#">
                                    <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                    </svg>
                                    
                                    <!-- <img class="injectable hw-20 mr-2" src="./assets/media/heroicons/outline/user.svg" alt=""> -->
                                    <span>Contact</span>
                                </a>
                                <a class="dropdown-item" href="#">
                                    <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                    </svg>
                                    
                                    <!-- <img class="injectable hw-20 mr-2" src="./assets/media/heroicons/outline/location-marker.svg" alt=""> -->
                                    <span>Location</span>
                                </a>
                                <a class="dropdown-item" href="#">
                                    <svg class="hw-20 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                    </svg>
                                    
                                    <!-- <img class="injectable hw-20 mr-2" src="./assets/media/heroicons/outline/chart-square-bar.svg" alt=""> -->
                                    <span>Poll</span>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div>


                    </div>

                    <textarea class="form-control emojionearea-form-control" id="messageInput" [(ngModel)]="mensaje" id="mensaje" style="font-size: 16px;
                    -ms-text-size-adjust: 100%;
                    -webkit-text-size-adjust: 100%;"></textarea>
                    <div class="btn btn-primary btn-icon send-icon rounded-circle text-light mb-1" (click)="sendMessageText()" role="button">
                        <svg class="hw-24" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
                        </svg>
                        
                        <!-- <img src="./assets/media/heroicons/outline/arrow-right.svg" alt="" class="injectable"> -->
                    </div>
                </div>
                <!-- Chat Footer End-->
            </div>
        
            <!-- Chat Body End -->
            <div class="d-flex flex-column justify-content-center text-center h-100 w-100" *ngIf="!to_user">
                <button type="button" class="close" (click)="irAPaginaDash()" aria-label="Close" style="position: absolute;
                top: 10px;
                right: 10px;
                transform: translate(-50%, 0%);">
                    <span aria-hidden="true">&times;</span>
                </button>
                <div class="container">
                    <div class="avatar avatar-lg mb-2">
                        <img class="avatar-img" src="{{path}}{{user.avatar}}" alt="">
                    </div>

                    <h5>Bienvenido {{user.name}}</h5>
                    <p class="text-muted">Seleccione un participante para iniciar un chat</p>

                    <button class="btn btn-outline-primary no-box-shadow" type="button" data-toggle="modal" data-target="#startConversation">
                        Iniciar Conversación
                    </button>
                </div>
            </div>
            <!-- Chat Info Start -->

            <!-- Chat Info End -->
        </div>
        <!-- Chats Page End -->
        
        <!-- Call Log Page Start -->

        <!-- Call Log Page End -->

        <!-- Friends Page Start -->

        <!-- Friends Page End -->

        <!-- Profile Settings Start -->

        <!-- Profile Settings End -->
    </main>
</div>

        <!-- Modal 3 :: participar en grupo-->
        <div class="modal modal-lg-fullscreen fade" id="participarGrupo" tabindex="-1" role="dialog" aria-labelledby="participarGrupoLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog-zoom">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="startConversationLabel">Nuevo Chat</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body p-0 hide-scrollbar">
                    <div class="row">
                        <div class="col-12 hide">
                            <!-- Search Start -->
                            <form class="form-inline w-100 p-2 border-bottom">
                                <div class="input-group w-100 bg-light">
                                    <input type="text" class="form-control form-control-md search border-right-0 transparent-bg pr-0" placeholder="Search">
                                    <div class="input-group-append">
                                        <div class="input-group-text transparent-bg border-left-0" role="button">
                                            <!-- Default :: Inline SVG -->
                                            <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                            </svg>   
                                            
                                            <!-- Alternate :: External File link -->
                                            <!-- <img class="injectable hw-20" src="./assets/media/heroicons/outline/search.svg" alt=""> -->
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <!-- Search End -->
                        </div>

                        <div class="col-12">
                                <!-- List Group Start -->
                                <ul class="list-group list-group-flush">

                                <!-- List Group Item Start -->
                                <li class="list-group-item" *ngFor="let grupo of groups">
                                    <div class="media">
                                        <div class="avatar avatar-online mr-2">
                                            <img src={{path}}{{grupo.avatar}} alt="">
                                          
                                        </div>

                                        <div class="media-body">
                                            <h6 class="text-truncate">
                                                <a style="cursor: pointer;" (click)="startChatGroup(grupo.id)" class="text-reset">{{grupo.name}}</a>
                                            </h6>

                                            <p class="text-muted mb-0">Online</p>
                                        </div>
                                    </div>
                                </li>
                                <!-- List Group Item End -->

                      </ul>
                            <!-- List Group End -->
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>

         <!-- Modal 1 :: Start a Conversation-->
         <div class="modal modal-lg-fullscreen fade" id="startConversation" tabindex="-1" role="dialog" aria-labelledby="startConversationLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog-zoom">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="startConversationLabel">Nuevo Chat</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body p-0 hide-scrollbar">
                    <div class="row">
                        <div class="col-12 hide">
                            <!-- Search Start -->
                            <form class="form-inline w-100 p-2 border-bottom">
                                <div class="input-group w-100 bg-light">
                                    <input type="text" class="form-control form-control-md search border-right-0 transparent-bg pr-0" placeholder="Search">
                                    <div class="input-group-append">
                                        <div class="input-group-text transparent-bg border-left-0" role="button">
                                            <!-- Default :: Inline SVG -->
                                            <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                            </svg>   
                                            
                                            <!-- Alternate :: External File link -->
                                            <!-- <img class="injectable hw-20" src="./assets/media/heroicons/outline/search.svg" alt=""> -->
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <!-- Search End -->
                        </div>

                        <div class="col-12">
                                <!-- List Group Start -->
                                <ul class="list-group list-group-flush">

                                <!-- List Group Item Start -->
                                <li class="list-group-item" *ngFor="let user of users_contacts">
                                    <div class="media">
                                        <div class="avatar avatar-online mr-2">
                                            <img src={{path}}{{user.usr_avatar}} alt="">
                                          
                                        </div>

                                        <div class="media-body">
                                            <h6 class="text-truncate">
                                                <a style="cursor: pointer;" (click)="startChat(user.id)" class="text-reset">{{user.name}}</a>
                                            </h6>

                                            <p class="text-muted mb-0">Online</p>
                                        </div>
                                    </div>
                                </li>
                                <!-- List Group Item End -->

                      </ul>
                            <!-- List Group End -->
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>

                <!-- Modal 2 :: Create Group -->
                <div class="modal modal-lg-fullscreen fade" id="createGroup" tabindex="-1" role="dialog" aria-labelledby="createGroupLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-dialog-zoom">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title js-title-step" id="createGroupLabel">&nbsp;</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body py-0 hide-scrollbar">
                                <div class="row hide pt-2" data-step="1" data-title="Create a New Group">
                                    
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label for="groupName">Nombre del Grupo</label>
                                            <input type="text" class="form-control form-control-md" id="groupName" [(ngModel)]="nombreChatGrupal" placeholder="Type group name here">
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label>Choose profile picture</label>
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" id="profilePictureInput" accept="image/*">
                                                <label class="custom-file-label" for="profilePictureInput">Choose file</label>
                                                </div>
                                        </div>
                                    </div>
        
                                    <div class="col-12">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="form-group mb-0">
                                                <label>Group privacy</label>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="form-group rounded p-2 border">
                                                <div class="custom-control custom-radio">
                                                    <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked>
                                                    <label class="form-check-label" for="exampleRadios1">
                                                        Public group
                                                    </label>
                                                </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="form-group rounded p-2 border">
                                                <div class="custom-control custom-radio">
                                                    <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
                                                    <label class="form-check-label" for="exampleRadios2">
                                                        Private group
                                                    </label>
                                                </div>
                                                </div>
                                            </div>
                                            </div>
                                    </div>
                                
                                </div>
        
                                <div class="row hide pt-2" data-step="2" data-title="Agregar participantes">
                                    <div class="col-12 px-0">
                                        <!-- Search Start -->
                                        <form class="form-inline w-100 px-2 pb-2 border-bottom">
                                            <div class="input-group w-100 bg-light">
                                                <input type="text" class="form-control form-control-md search border-right-0 transparent-bg pr-0" placeholder="Search">
                                                <div class="input-group-append">
                                                    <div class="input-group-text transparent-bg border-left-0" role="button">
                                                        <!-- Default :: Inline SVG -->
                                                        <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                                        </svg>   
        
                                                        <!-- Alternate :: External File link -->
                                                        <!-- <img class="injectable hw-20" src="./assets/media/heroicons/outline/search.svg" alt=""> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                        <!-- Search End -->
                                    </div>
            
                                    <div class="col-12 px-0">
                                        <!-- List Group Start -->
                                        <ul class="list-group list-group-flush">
            
                                            <!-- List Group Item Start -->
                                            <li class="list-group-item" *ngFor="let user of users_contacts">
                                                <div class="media">
                                                    <div class="media">
                                                                <div class="avatar avatar-online mr-2">
                                                                    <img src={{path}}{{user.usr_avatar}} alt="">
                                                                
                                                                </div>

                                                                <div class="media-body">
                                                                    <h6 class="text-truncate">
                                                                        <a style="cursor: pointer;" (click)="startChat(user.id)" class="text-reset">{{user.name}}</a>
                                                                    </h6>

                                                                    <p class="text-muted mb-0">Online</p>
                                                                </div>
                                                            </div>
        
                                                    <div class="media-options">
                                                        <div class="custom-control custom-checkbox">
                                                            <input class="custom-control-input" type="checkbox" value="" id="{{user.id}}" checked="">
                                                            <label class="custom-control-label" for="{{user.id}}"></label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <label class="media-label" for="{{user.id}}"></label>
                                            </li>
                                            <!-- List Group Item End -->
            
                                           
            
                                        </ul>
                                        <!-- List Group End -->
                                    </div>
                                </div>
        
                                <div class="row pt-2 h-100 hide" data-step="3" data-title="Finished">
                                    <div class="col-12">
                                        <div class="d-flex justify-content-center align-items-center flex-column h-100">
                                            <div class="btn btn-success btn-icon rounded-circle text-light mb-3">
                                                <!-- Default :: Inline SVG -->
                                                <svg class="hw-24" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                                </svg>
                                                    
                                                <!-- Alternate :: External File link -->
                                                <!-- <img class="injectable hw-24" src="./assets/media/heroicons/outline/check.svg" alt=""> -->
                                            </div>
                                            <h6>Group Created Successfully</h6>
                                            <p class="text-muted text-center">Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores cumque laborum fugiat vero pariatur provident!</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-link text-muted js-btn-step mr-auto" data-orientation="cancel" data-dismiss="modal"></button>
                                <button type="button" class="btn btn-secondary  js-btn-step" data-orientation="previous"></button>
                                <button type="button" class="btn btn-primary js-btn-step"  data-orientation="next" (click)="createGroup()"></button>
                            </div>
                        </div>
                    </div>
                </div>
<!-- Main End -->